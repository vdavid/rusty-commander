/* 
 * Tailwind CSS removed - we use semantic CSS classes with CSS custom properties instead.
 * This improves dev startup by ~15 seconds by avoiding Tailwind's JIT scanning.
 * See docs/notes/2026-01-01-debugging-startup-time.md for details.
 */

/* =============================================================================
   Design tokens - CSS Custom Properties
   
   These variables serve as the single source of truth for all colors, spacing,
   and typography. They can be used in both scoped CSS and Tailwind classes.
   
   Future: Can be modified at runtime for user theme customization.
   ============================================================================= */

:root {
    /* === Backgrounds === */
    --color-bg-primary: #ffffff;
    --color-bg-secondary: #f5f5f5;
    --color-bg-tertiary: #e8e8e8;
    --color-bg-header: #f0f0f0;

    /* === Borders === */
    --color-border-primary: #ccc;
    --color-border: #ddd;

    /* === Text === */
    --color-text-primary: #000000;
    --color-text-secondary: #666666;
    --color-text-muted: #999999;

    /* === Interactive States === */
    --color-hover-bg: rgba(0, 120, 215, 0.1);
    --color-bg-hover: rgba(0, 120, 215, 0.08);
    --color-selection-bg: #cce4f7;
    --color-focus-border: #0078d4;
    --color-accent: #0078d4;

    /* === Semantic Colors === */
    --color-allow: #2e7d32;
    --color-error: #d32f2f;

    /* === Size tier colors (20% offset toward target color) === */
    --color-size-kb: color-mix(in srgb, var(--color-text-secondary) 70%, #f0c000);
    --color-size-mb: color-mix(in srgb, var(--color-text-secondary) 70%, #ff8c00);
    --color-size-gb: color-mix(in srgb, var(--color-text-secondary) 70%, #ff4444);
    --color-size-tb: color-mix(in srgb, var(--color-text-secondary) 70%, #aa44ff);

    /* === Spacing === */
    --spacing-xxs: 2px;
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;

    /* === Typography === */
    --font-system: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    --font-mono: 'SF Mono', Monaco, monospace;
    --font-size-xs: 12px;
    --font-size-sm: 12px;
    --font-size-base: 16px;
}

/* Dark Mode - automatically applied when user's system prefers dark mode */
@media (prefers-color-scheme: dark) {
    :root {
        /* === Backgrounds === */
        --color-bg-primary: #1e1e1e;
        --color-bg-secondary: #2a2a2a;
        --color-bg-tertiary: #333333;
        --color-bg-header: #252525;

        /* === Borders === */
        --color-border-primary: #444444;
        --color-border: #555555;

        /* === Text === */
        --color-text-primary: #ffffff;
        --color-text-secondary: #aaaaaa;
        --color-text-muted: #808080;

        /* === Interactive States === */
        --color-hover-bg: rgba(100, 180, 255, 0.15);
        --color-bg-hover: rgba(100, 180, 255, 0.12);
        --color-selection-bg: #0a50d0;
        --color-focus-border: #4da3ff;
        --color-accent: #4da3ff;

        /* === Semantic Colors === */
        --color-error: #f44336;
    }
}

/* =============================================================================
   Reset from https://github.com/filipelinhares/ress/blob/master/dist/ress.min.css with some stripping
   ============================================================================= */

@layer ress-reset {
    html {
        -webkit-text-size-adjust: 100%;
        box-sizing: border-box;
        tab-size: 4;
        word-break: normal;
    }

    *,
    :after,
    :before {
        background-repeat: no-repeat;
        box-sizing: inherit;
    }

    :after,
    :before {
        text-decoration: inherit;
        vertical-align: inherit;
    }

    * {
        margin: 0;
        padding: 0;
    }

    hr {
        color: inherit;
        height: 0;
        overflow: visible;
    }

    details,
    main {
        display: block;
    }

    summary {
        display: list-item;
    }

    abbr[title] {
        border-bottom: none;
        text-decoration: underline dotted;
    }

    a {
        background-color: transparent;
    }

    a:active,
    a:hover {
        outline-width: 0;
    }

    code,
    kbd,
    pre,
    samp {
        font-family: monospace, monospace;
    }

    pre {
        font-size: 1em;
    }

    b,
    strong {
        font-weight: bolder;
    }

    sub,
    sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
    }

    sub {
        bottom: -0.25em;
    }

    sup {
        top: -0.5em;
    }

    table {
        border-color: inherit;
        text-indent: 0;
    }

    iframe {
        border-style: none;
    }

    input {
        border-radius: 0;
    }

    textarea {
        overflow: auto;
        resize: vertical;
    }

    button,
    input,
    optgroup,
    select,
    textarea {
        font: inherit;
    }

    optgroup {
        font-weight: 700;
    }

    button {
        overflow: visible;
    }

    button,
    select {
        text-transform: none;
    }

    [role='button'],
    [type='button'],
    [type='reset'],
    [type='submit'],
    button {
        cursor: pointer;
    }

    [type='reset'],
    [type='submit'],
    button,
    html [type='button'] {
        appearance: button;
    }

    button,
    input,
    select,
    textarea {
        background-color: transparent;
        border-style: none;
    }

    a:focus,
    button:focus,
    input:focus,
    select:focus,
    textarea:focus {
        outline-width: 0;
    }

    progress {
        vertical-align: baseline;
    }
}

/* =============================================================================
   Global Styles
   ============================================================================= */

@layer typography {
    ul,
    ol,
    dl {
        list-style-position: inside;
        padding-inline-start: 1lh;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        text-wrap: balance;
    }

    p {
        text-wrap: pretty;
        margin-block-start: 16px;
        margin-block-end: 16px;
    }
}

@media (prefers-reduced-motion: no-preference) {
    html {
        interpolate-size: allow-keywords;
    }
}

/* Fixed font-size for native-app-like behavior:
 * - Establishes 1rem = 16px (makes rem and px interchangeable)
 * - Only responds to OS display scaling (System Settings â†’ Displays)
 * - Ignores WebKit's font-size preferences (unlike percentage-based font-size)
 * This is intentional: we want macOS-native behavior, not web-browser behavior.
 */
html {
    font-size: 16px;
}

html,
body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    /* Disable text selection globally */
    user-select: none;
    -webkit-user-select: none;
    /* Force default cursor everywhere */
    cursor: default;
    font-size: var(--font-size-base);
}

#app {
    width: 100%;
    height: 100%;
}

/* Disable scroll bounce on all scrollable elements */
* {
    overscroll-behavior: none;
}
